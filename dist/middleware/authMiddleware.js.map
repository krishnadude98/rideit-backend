{"version":3,"sources":["../../src/middleware/authMiddleware.js"],"names":["jwt","require","module","exports","req","res","next","token","header","status","json","message","verified","verify","config","TokenSecret","user","e"],"mappings":";;AACA;;;;;;AADA,IAAMA,MAAKC,QAAQ,cAAR,CAAX;;;AAGAC,OAAOC,OAAP,GAAgB,UAASC,GAAT,EAAaC,GAAb,EAAiBC,IAAjB,EAAsB;AACpC,MAAMC,QAAOH,IAAII,MAAJ,CAAW,YAAX,CAAb;AACA,MAAG,CAACD,KAAJ,EAAU;AACN,WAAOF,IAAII,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAQ,eAAT,EAArB,CAAP;AACH;AACD,MAAG;AACD,QAAMC,WAAUZ,IAAIa,MAAJ,CAAWN,KAAX,EAAiBO,iBAAOC,WAAxB,CAAhB;AACAX,QAAIY,IAAJ,GAAWJ,QAAX,CAFC,CAEmB;AACpBN;AAED,GALD,CAKC,OAAMW,CAAN,EAAQ;AACLZ,QAAII,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAQ,eAAT,EAArB;AACH;AACF,CAbD","file":"authMiddleware.js","sourcesContent":["const jwt= require('jsonwebtoken');\nimport config from '../config';\n\nmodule.exports =function(req,res,next){\n  const token= req.header('auth-token');\n  if(!token){\n      return res.status(401).json({message:\"Access Denied\"});\n  }\n  try{\n    const verified= jwt.verify(token,config.TokenSecret);\n    req.user = verified;//verified is id\n    next();\n\n  }catch(e){\n      res.status(400).json({message:\"Invalid Token\"});\n  }\n}\n"]}